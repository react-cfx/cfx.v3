{"version":3,"sources":["/root/deno/packages/pnpm/cfx.v3/src/styl.js"],"sourcesContent":["const setStyl = new Proxy( {}\n, {\n  get: (r, p) => (arr, children) => {\n    return {\n      [p]: {\n        ...(\n              Array.isArray(arr)\n          &&  arr.length !== 0\n          ?   { class: arr }\n          :   { class: [arr] }\n        )\n      , ...(\n            children\n          ? Array.isArray(children)\n          ? { children }\n          : { children: [ children ] }\n          : {}\n        )\n      }\n    }\n  }\n})\n\nconst getStyl = (\n  styleData\n, {\n    cb = (e) => e\n  , alias = {}\n  }\n, tag = []\n) =>\n  new Proxy(\n    () => {}\n  , {\n      get: (r, p) => {\n\n        // console.log({ get: p })\n\n        return Object.keys(alias).includes(p)\n        ? getStyl(\n            styleData\n          , { cb }\n          , alias[p].split('.')\n          )\n        : getStyl(\n            styleData\n          , {\n              cb\n            }\n          , [ ...tag, p ]\n          )\n\n      }\n\n    , apply: (r, b, p) => {\n\n        // console.log({ apply: p })\n\n        return p.length !== 0\n        ? getStyl(\n            styleData\n          , {\n              cb\n            }\n          , [ ...tag, ...p ]\n          )\n        : cb(tag.reduce(\n            (r, c, i, a) => {\n\n              const _c = \n                  Number.parseInt(c) * 0 === 0\n                ? Number.parseInt(c)\n                : c\n\n              const _r =\n                  typeof _c === 'string'\n                ? r.filter(\n                    (e) =>\n                      typeof e[_c] === 'object'\n                      ? true\n                      : false\n                  )[0]\n                : [ r[_c] ]\n\n              if (typeof _c !== 'string') {\n                return _r\n              }\n\n              return i < (a.length - 1)\n\n              ? _r[_c].children\n\n              : Array.isArray(\n                  _r[_c].class\n                )\n\n              ? _r[_c].class\n              : [ _r[_c].class ]\n\n            }\n\n          , [ styleData ]\n          ))\n\n      }\n\n    }\n  )\n\nconst Styl = (\n  style\n, cb = (e) => e\n, alias = {}\n) =>\n    style\n  ? getStyl(\n      style\n    , {\n        cb\n      , alias\n      }\n    )\n  : new Proxy(\n    {}\n  , {\n      get: (r, p) => setStyl[p]\n    }\n  )\n\nexport {\n  setStyl\n, getStyl\n}\n\nexport default Styl\n"],"names":[],"mappings":"MAAM,QAAO,OAAO,KAAK;;IAEvB,GAAG,GAAG,CAAC,EAAE,CAAC,IAAM,GAAG,EAAE,QAAQ;;iBAExB,CAAC;uBAEM,KAAK,CAAC,OAAO,CAAC,GAAG,KACjB,GAAG,CAAC,MAAM,KAAK,CAAC;wBACd,KAAK,EAAE,GAAG;;wBACV,KAAK;4BAAG,GAAG;;;uBAGf,QAAQ,GACR,KAAK,CAAC,OAAO,CAAC,QAAQ;wBACpB,QAAQ;;wBACR,QAAQ;4BAAI,QAAQ;;;;;;;;MAQ5B,QAAO,IACX,SAAS,IAEP,EAAE,GAAI,CAAC,GAAK,CAAC;GACb,KAAK;MAEP,GAAG,YAEC,KAAK;;QAGL,GAAG,GAAG,CAAC,EAAE,CAAC;YAER,EAA0B,AAA1B,wBAA0B;mBAEnB,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC,IAClC,QAAO,CACL,SAAS;gBACP,EAAE;eACJ,KAAK,CAAC,CAAC,EAAE,KAAK,EAAC,CAAG,MAEpB,QAAO,CACL,SAAS;gBAEP,EAAE;;mBAEC,GAAG;gBAAE,CAAC;;;QAKjB,KAAK,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC;YAEb,EAA4B,AAA5B,0BAA4B;mBAErB,CAAC,CAAC,MAAM,KAAK,CAAC,GACnB,QAAO,CACL,SAAS;gBAEP,EAAE;;mBAEC,GAAG;mBAAK,CAAC;iBAEhB,EAAE,CAAC,GAAG,CAAC,MAAM,EACV,EAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;sBAEH,EAAE,GACJ,MAAM,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,GAC5B,MAAM,CAAC,QAAQ,CAAC,CAAC,IACjB,CAAC;sBAEC,EAAE,UACG,EAAE,MAAK,MAAQ,IACtB,EAAC,CAAC,MAAM,EACL,CAAC,UACO,CAAC,CAAC,EAAE,OAAM,MAAQ,IACvB,IAAI,GACJ,KAAK;kBACT,CAAC;oBACD,EAAC,CAAC,EAAE;;2BAEC,EAAE,MAAK,MAAQ,UACjB,EAAE;uBAGJ,CAAC,GAAI,CAAC,CAAC,MAAM,GAAG,CAAC,GAEtB,EAAE,CAAC,EAAE,EAAE,QAAQ,GAEf,KAAK,CAAC,OAAO,CACX,EAAE,CAAC,EAAE,EAAE,KAAK,IAGd,EAAE,CAAC,EAAE,EAAE,KAAK;oBACV,EAAE,CAAC,EAAE,EAAE,KAAK;;;gBAIhB,SAAS;;;;;MAQjB,IAAI,IACR,KAAK,EACL,EAAE,IAAI,CAAC,GAAK,CAAC;EACb,KAAK;IAEH,KAAK,GACL,QAAO,CACL,KAAK;QAEH,EAAE;QACF,KAAK;aAGL,KAAK;;QAGP,GAAG,GAAG,CAAC,EAAE,CAAC,GAAK,QAAO,CAAC,CAAC;;;SAK5B,QAAO,IAAP,OAAO,EACP,QAAO,IAAP,OAAO"}